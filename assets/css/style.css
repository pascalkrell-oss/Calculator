:root {
    --src-primary: #1a93ee; 
    --src-primary-hover: #137ecf;
    --src-dark: #333333;
    --src-text: #64748b;
    --src-bg: #f8fafc;
    --src-light-box: #f4f9ff;
    --src-border-light: #e2e8f0;
    --src-card-bg: #ffffff;
    --src-radius: 12px; 
    --src-input-radius: 8px; 
    --src-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
    --src-anim-speed: 0.3s;
    --src-header-bg: #0f141a;
    --src-header-panel: #0f141a;
    --src-sticky-offset: 90px;
}

.src-reset-header { max-width: 1100px; margin: 0 auto 10px; text-align: right; font-family: "Rubik", system-ui, sans-serif; }
.src-reset-btn { background: transparent; border: none; color: #999; font-size: 12px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px; transition: color 0.2s; }
.src-reset-btn:hover { color: #d63638; }

#src-calc-v6 {
    font-family: "Rubik", system-ui, sans-serif;
    max-width: 1100px; margin: 0 auto 40px;
    background: var(--src-card-bg); border-radius: var(--src-radius); 
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.05);
    border: 1px solid var(--src-border-light);
    display: grid; grid-template-columns: 1.3fr 0.9fr; overflow: hidden;
    align-items: stretch;
}

#src-calc-v6 input,
#src-calc-v6 select,
#src-calc-v6 textarea,
#src-calc-v6 button {
    font-family: inherit;
}

.src-col-left { padding: 50px 30px 30px 30px; border-right: 1px solid var(--src-border-light); }
.src-col-right { background: #f1f5f9; padding: 30px; display: flex; flex-direction: column; min-height: 100%; gap: 0; }
.src-col-right > * {
    margin-bottom: 16px;
}
.src-col-right > *:last-child {
    margin-bottom: 0;
}

.src-section-title { font-size: 12px; font-weight: 800; color: rgb(51, 51, 51); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
.src-section-head {
    margin: 18px 0 10px;
}
.src-section-head__title {
    font-size: 14px;
    font-weight: 700;
    letter-spacing: 0.02em;
    text-transform: uppercase;
    color: rgb(15, 23, 42);
}
.src-left-card {
    border: 1px solid var(--src-border-light);
    border-radius: 16px;
    background: #ffffff;
    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.08);
    overflow: hidden;
    margin-bottom: 20px;
}
.src-left-card__head {
    padding: 12px 16px;
    background: #ffffff;
}
.src-left-card__title {
    font-size: 15px;
    font-weight: 700;
    color: rgb(15, 23, 42);
    letter-spacing: 0.01em;
}
.src-left-card__body {
    padding: 0 0 6px;
}
.src-left-section {
    margin-bottom: 20px;
}
.src-left-section__title {
    font-size: 15px;
    font-weight: 600;
    color: #0f172a;
    letter-spacing: 0.01em;
    margin-bottom: 12px;
}
.src-rights-inner {
    display: grid;
    gap: 12px;
}
.src-group { margin-bottom: 25px; }

.src-top-grid { display: grid; grid-template-columns: 55% 1fr; gap: 20px; margin-bottom: 35px; }
.src-top-sub { display: block; font-size: 11px; color: #94a3b8; margin-top: 6px; line-height: 1.3; }

/* INPUTS */
.src-select, .src-input-text, .src-textarea, .src-discount-grid input {
    width: 100%; padding: 10px 15px;
    border: 2px solid var(--src-border-light); 
    border-radius: var(--src-input-radius);
    font-size: 15px; color: var(--src-dark); background: #fff; 
    appearance: none; -webkit-appearance: none;
    transition: border-color 0.2s;
    box-sizing: border-box; 
    line-height: 1.2;
}
.src-select {
    height: 48px; padding-right: 40px; cursor: pointer;
    background-image: url('data:image/svg+xml;utf8,<svg fill="%23333" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
    background-repeat: no-repeat; background-position: right 12px center;
}
.src-input-text { height: 48px; cursor: text; }
.src-input-compact {
    width: 100%;
    height: 48px;
    padding: 10px 15px;
    border: 2px solid var(--src-border-light);
    border-radius: var(--src-input-radius);
    font-size: 15px;
    color: var(--src-dark);
    background: #fff;
    box-sizing: border-box;
}
.src-input-compact-wrap .src-select {
    height: 48px;
    padding-right: 40px;
    font-size: 15px;
}
.src-select:focus, .src-input-text:focus, .src-textarea:focus, .src-input-compact:focus { border-color: var(--src-primary); outline: none; }

#src-calc-v6 .src-select,
#src-calc-v6 .src-input-text,
#src-calc-v6 .src-textarea,
#src-calc-v6 .src-input-compact,
#src-calc-v6 .src-discount-grid input {
    border-radius: 10px !important;
}

.src-light-box-wrapper { background: #f8fafc; border: 1px solid var(--src-border-light); border-radius: 16px; padding: 20px; margin-bottom: 20px; }

.src-slide-wrap { max-height: 0; opacity: 0; overflow: hidden; transition: max-height var(--src-anim-speed) ease-in-out, opacity var(--src-anim-speed) ease-in-out, margin var(--src-anim-speed); }
.src-slide-wrap.open { max-height: 1500px; opacity: 1; }
.src-slide-wrap.open.with-margin { margin-top: 15px; }

.src-collapse {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transform: translateY(-4px);
    pointer-events: none;
    transition: max-height 260ms ease, opacity 180ms ease, transform 220ms ease;
}
.src-collapse.is-open {
    max-height: 800px;
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
}
.src-collapse:not(.is-open) {
    margin-bottom: 0 !important;
    padding: 0 !important;
    border-width: 0 !important;
}

.src-switch-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; cursor: pointer; user-select: none; }
.src-switch-row.boxed { padding: 10px 15px; background: #fff; border: 1px solid var(--src-border-light); border-radius: 10px; margin-bottom: 8px; transition: 0.2s; }
.src-switch-row.boxed:hover { border-color: #cbd5e1; }

/* --- GLOBAL TOGGLE ROWS (Spacing Fix) --- */
.src-global-toggle-row {
    margin-bottom: 10px;
    padding: 6px 0;
    border-bottom: 1px dashed #f1f5f9;
}
.src-global-toggle-row:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.src-switch-detail-wrap {
    margin-left: 32px;
    padding-left: 0;
    margin-top: 10px;
    width: calc(100% - 32px);
    box-sizing: border-box;
}

.src-switch-content { display: flex; align-items: center; gap: 12px; }
.src-switch-text { font-size: 14px; font-weight: 600; color: var(--src-dark); }
.src-switch-sub { font-size: 12px; color: #94a3b8; margin-left: 0; font-weight: 400; display: block; }
.src-switch-icon { color: #94a3b8; font-size: 18px; display:flex; align-items:center; justify-content: center; width:20px; }

.src-option-row {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 0;
    border-bottom: 1px dashed #f1f5f9;
}
.src-option-row:last-child {
    border-bottom: none;
}
.src-option-left {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    flex: 1 1 auto;
    min-width: 0;
}
.src-option-text {
    display: flex;
    flex-direction: column;
    gap: 2px;
}
.src-option-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--src-dark);
}
.src-option-sub {
    font-size: 12px;
    color: #94a3b8;
    font-weight: 400;
}
.src-option-inline {
    flex: 0 0 auto;
    max-width: 0;
    max-height: 0;
    opacity: 0;
    transform: translateX(0);
    overflow: hidden;
    position: relative;
    z-index: 1;
    min-width: 0;
    pointer-events: none;
    visibility: hidden;
    transition: max-width 220ms cubic-bezier(0.4, 0, 0.2, 1), max-height 220ms cubic-bezier(0.4, 0, 0.2, 1), opacity 180ms ease, transform 220ms cubic-bezier(0.4, 0, 0.2, 1);
}
.src-option-row:not(.is-on) .src-option-inline {
    pointer-events: none;
    visibility: hidden;
}
.src-option-row.is-on .src-option-inline {
    max-width: 420px;
    max-height: 160px;
    opacity: 1;
    transform: translateX(0);
    pointer-events: auto;
    visibility: visible;
}
.src-option-right {
    flex: 0 0 auto;
    position: relative;
    z-index: 10;
}
.src-option-inline-note {
    font-size: 12px;
    font-weight: 600;
    color: var(--src-dark);
}
.src-option-help {
    font-size: 10px;
    color: #94a3b8;
    margin-top: 4px;
}
.src-option-inline .src-input-compact-wrap {
    min-width: 180px;
}
.src-option-inline .src-discount-grid {
    margin-top: 0;
}

.src-opt-card {
    border: 1px solid var(--src-border-light);
    border-radius: 14px;
    background: #ffffff;
    box-shadow: 0 6px 16px rgba(15, 23, 42, 0.08);
    padding: 14px 16px;
    margin-bottom: 12px;
}
.src-opt-card:last-child {
    margin-bottom: 0;
}
.src-opt-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 16px;
}
.src-opt-left {
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 0;
}
.src-opt-icon {
    color: #94a3b8;
    font-size: 18px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
}
.src-opt-text {
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 0;
}
.src-opt-title {
    font-size: 14px;
    font-weight: 600;
    color: var(--src-dark);
    display: inline-flex;
    align-items: center;
    gap: 6px;
}
.src-opt-sub {
    font-size: 12px;
    color: #94a3b8;
}
.src-opt-right {
    flex: 0 0 auto;
}
.src-opt-body {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    pointer-events: none;
    transition: max-height 240ms ease, opacity 160ms ease;
    margin-top: 0;
}
.src-opt-card.is-on .src-opt-body {
    max-height: 240px;
    opacity: 1;
    pointer-events: auto;
    margin-top: 12px;
}
.src-opt-body-row {
    display: flex;
    flex-direction: column;
    gap: 8px;
}
.src-opt-body-text {
    font-size: 12px;
    color: #475569;
}
.src-opt-body-help {
    font-size: 11px;
    color: #94a3b8;
}

.src-toggle-wrapper { position: relative; display: inline-block; width: 42px; height: 24px; flex-shrink: 0; }
.src-toggle-wrapper input { opacity: 0; width: 0; height: 0; margin: 0; }
.src-toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #cbd5e1; transition: .3s; border-radius: 34px; }
.src-toggle-slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .3s; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
.src-toggle-wrapper input:checked + .src-toggle-slider { background-color: var(--src-primary); }
.src-toggle-wrapper input:checked + .src-toggle-slider:before { transform: translateX(18px); }

@media (prefers-reduced-motion: reduce) {
    .src-slide-wrap,
    .src-option-inline,
    .src-opt-body,
    .src-toggle-slider,
    .src-amount-anim__value,
    .src-mean-fade,
    .src-tile,
    .src-slider::-webkit-slider-thumb,
    .src-collapse {
        transition-duration: 0.01ms !important;
        animation-duration: 0.01ms !important;
    }
}

.src-tiles-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
.src-tile-input { display: none; }
.src-tile { border: 1px solid var(--src-border-light); border-radius: 10px; padding: 10px 5px; text-align: center; cursor: pointer; transition: all 0.2s ease; background: #fff; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; min-height: 75px; }
.src-tile:hover { border-color: #cbd5e1; transform: translateY(-2px); }
.src-tile-icon { font-size: 22px; color: #94a3b8; margin-bottom: 5px; display:block; }
.src-tile-label { font-size: 11px; font-weight: 600; color: var(--src-dark); line-height: 1.1; }
.src-tile-input:checked + .src-tile { border-color: var(--src-primary); background: #fff; box-shadow: 0 0 0 2px rgba(26,147,238,0.15); }
.src-tile-input:checked + .src-tile .src-tile-icon, .src-tile-input:checked + .src-tile .src-tile-label { color: var(--src-primary); }

/* --- SLIDER WITH VISIBLE TRACK --- */
.src-slider-container { padding: 5px 0; }
.src-slider { 
    -webkit-appearance: none; 
    width: 100%; 
    height: 6px; 
    border-radius: 5px; 
    outline: none; 
    margin: 20px 0;
    /* Track Hintergrund */
    background-color: #e2e8f0; 
    /* Punkte */
    background-image: 
        radial-gradient(circle at 33.33% 50%, #94a3b8 3px, transparent 3.5px),
        radial-gradient(circle at 66.66% 50%, #94a3b8 3px, transparent 3.5px);
    background-repeat: no-repeat;
    background-position: center;
    background-size: 100% 100%;
}
.src-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 22px; height: 22px; border-radius: 50%; background: var(--src-primary); cursor: pointer; border: 3px solid #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.15); transition: transform 0.1s; margin-top: -8px; }
.src-slider::-webkit-slider-thumb:hover { transform: scale(1.1); }
.src-slider::-webkit-slider-runnable-track { background: transparent; height: 6px; border-radius: 5px; }

.src-slider-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: -10px; }
.src-slider-val { font-size: 14px; font-weight: 700; color: var(--src-primary); background: #fff; border:1px solid #eee; padding: 4px 10px; border-radius: 8px; min-width: 60px; text-align: center; }
.src-slider-steps { display:flex; justify-content:space-between; font-size:10px; color:#94a3b8; margin-top:5px; font-weight: 600; text-transform: uppercase; }

.src-textarea { height: 100px; resize: vertical; display: block; margin-bottom: 5px; font-family: inherit; font-size: 13px; }
.src-stats { font-size: 12px; font-weight: 600; color: var(--src-primary); display: flex; gap: 10px; align-items:center; }
.src-script-estimate {
    display: none;
    margin-top: 8px;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    font-size: 12px;
    color: #475569;
    background: #f8fafc;
    border: 1px dashed var(--src-border-light);
    padding: 8px 10px;
    border-radius: 10px;
}
.src-script-estimate.is-visible {
    display: flex;
}
.src-script-estimate .src-mini-btn {
    display: none;
}
.src-script-estimate .src-mini-btn.is-visible {
    display: inline-flex;
}

.src-project-tips {
    margin-top: 12px;
    display: grid;
    gap: 8px;
}
.src-tip-card {
    font-size: 12px;
    color: #475569;
    background: #f8fafc;
    border: 1px solid rgba(203, 213, 225, 0.7);
    padding: 10px 12px;
    border-radius: 14px;
    display: flex;
    gap: 10px;
    align-items: flex-start;
}
.src-tip-card__icon {
    width: 22px;
    height: 22px;
    border-radius: 999px;
    background: rgba(26, 147, 238, 0.12);
    color: var(--src-primary);
    font-weight: 700;
    font-size: 11px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
}

.src-complexity-group {
    margin-top: 20px;
}
.src-complexity-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px 16px;
}
.src-complexity-field {
    display: flex;
    flex-direction: column;
    gap: 6px;
    font-size: 12px;
    color: #64748b;
    font-weight: 600;
}
.src-complexity-field .src-select {
    height: 44px;
    font-size: 14px;
}
.src-complexity-note {
    margin-top: 10px;
    font-size: 12px;
    color: #94a3b8;
}

/* FIXED TOOLTIP */
.src-tooltip-icon { display: inline-flex; justify-content: center; align-items: center; width: 16px; height: 16px; background: #e2e8f0; color: #64748b; border-radius: 50%; font-size: 10px; font-weight: bold; margin-left: 6px; cursor: help; position: relative; }
.src-tooltip-icon:hover { background: var(--src-primary); color: #fff; }

#src-tooltip-fixed {
    position: fixed; z-index: 99999; background: #333;
    box-shadow: 0 5px 20px rgba(0,0,0,0.2); border-radius: 6px; 
    padding: 10px 14px; color: #fff; 
    font-size: 12px; line-height: 1.4; max-width: 250px; 
    pointer-events: none; opacity: 0;
    transition: opacity 0.2s ease; visibility: hidden;
}
#src-tooltip-fixed.is-visible { opacity: 1; visibility: visible; }

.src-manual-label { font-size: 14px; font-weight: 600; color: #64748b; }

/* RESULT CARD (BLUE) */
.src-sidebar-section { display: flex; flex-direction: column; gap: 0; }
.src-sidebar-title {
    font-size: 12px;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: #fff;
    background: var(--src-header-bg);
    padding: 12px 16px;
    border-radius: 12px 12px 0 0;
    border-bottom: 1px solid #e2e8f0;
    display: flex;
    align-items: center;
    justify-content: space-between;
    min-height: 48px;
    line-height: 1.2;
}
.src-sidebar-title .dashicons {
    color: rgba(255, 255, 255, 0.9);
}

.src-info-section {
    background: #ffffff;
    border: 1px solid var(--src-border-light);
    border-radius: 12px;
    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.08);
    overflow: hidden;
}

.src-info-section .src-sidebar-title {
    background: var(--src-header-bg);
    border-radius: 12px 12px 0 0;
    border-bottom: 1px solid var(--src-border-light);
}
.src-result-card { 
    background: #f8fafc; 
    border-radius: 0 0 12px 12px;
    padding: 25px;
    text-align: center; 
    box-shadow: 0 8px 18px rgba(15, 23, 42, 0.08); 
    margin-bottom: 0;
    position: relative;
    overflow: hidden;
    color: var(--src-dark);
    border: 1px solid var(--src-border-light);
    border-top: 0;
}
.src-price-label { font-size: 12px; text-transform: uppercase; color: #0f172a; font-weight: 700; letter-spacing: 0.5px; }
.src-price-main-box {
    background: #ffffff;
    border: 1px solid var(--src-border-light);
    border-radius: 12px;
    padding: 14px 10px;
    margin: 12px 0 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 64px;
}
.src-price-main {
    font-size: 42px;
    font-weight: 800;
    color: var(--src-dark);
    line-height: 1.1;
    margin: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    text-align: center;
    font-variant-numeric: tabular-nums;
}
.src-amount-anim {
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    height: 1.1em;
}
.src-amount-anim--sub {
    height: 1.2em;
    display: inline-flex;
}
.src-amount-anim__value {
    display: inline-block;
    will-change: transform, opacity;
    transition: transform 220ms cubic-bezier(0.4, 0, 0.2, 1), opacity 200ms ease;
}
.src-amount-exit {
    transform: translateY(12px);
    opacity: 0;
}
.src-amount-enter {
    transform: translateY(-12px);
    opacity: 0;
}
.src-price-sub { font-size: 13px; color: #475569; text-align: center; }
.src-mean-fade {
    display: inline-flex;
    opacity: 1;
    transition: opacity 160ms ease;
}
.src-mean-fade.is-updating {
    opacity: 0;
    transition: opacity 160ms ease;
}
.src-price-note { font-size: 11px; color: #64748b; margin-top: 6px; letter-spacing: 0.2px; text-transform: none; }

/* USER FINAL FEE INPUT */
.src-final-fee-wrap { margin-top: 15px; padding-top: 15px; border-top: 1px solid var(--src-border-light); text-align: left; }
.src-final-fee-label { font-size: 12px; font-weight: 700; color: #0f172a; margin-bottom: 5px; display: block; }
.src-final-fee-input { 
    width: 100%; height: 45px; border: 2px solid var(--src-border-light); border-radius: var(--src-input-radius); 
    padding: 0 15px; font-size: 18px; font-weight: 700; color: var(--src-primary); background: #fff;
    text-align: center; transition: all 0.2s;
    box-sizing: border-box;
}
.src-final-fee-input::placeholder { color: #94a3b8; font-weight: 400; font-size: 14px; text-align: center; }
.src-final-fee-input:focus { border-color: var(--src-primary); outline:none; box-shadow: 0 0 0 3px rgba(26, 147, 238, 0.15); }
.src-final-fee-input.error { border-color: #ffcccc; background: #fff0f0; color: #dc3232; }
.src-final-fee-msg { font-size: 12px; color: #dc2626; margin-top: 5px; display: none; text-align: center; font-weight: 600; }

#src-calc-v6 input[type=number]::-webkit-outer-spin-button,
#src-calc-v6 input[type=number]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

#src-calc-v6 input[type=number] {
    -moz-appearance: textfield;
}

/* Hidden Logic */
.src-hidden-initially { display: none; }
.src-fade-in { animation: fadeInField 0.5s forwards; }
@keyframes fadeInField { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.src-breakdown-box { background: #fff; border: 1px solid var(--src-border-light); border-radius: 0 0 12px 12px; padding: 16px; margin-bottom: 0; font-size: 13px; color: #475569; }
.src-breakdown-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #e2e8f0; gap: 12px; }
.src-breakdown-row:last-child { border-bottom: none; }
.src-breakdown-label {
    display: flex;
    align-items: center;
    gap: 6px;
    flex: 1 1 auto;
}
.src-breakdown-value {
    font-weight: 700;
    color: var(--src-dark);
    text-align: right;
    flex: 0 0 auto;
}
.src-breakdown-accordion {
    margin-top: 12px;
    border-top: 1px dashed #e2e8f0;
    padding-top: 12px;
}
.src-accordion-btn {
    width: 100%;
    background: #f8fafc;
    border: 1px solid var(--src-border-light);
    border-radius: 10px;
    padding: 10px 12px;
    font-size: 13px;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: space-between;
}
.src-accordion-btn::after {
    content: "+";
    color: var(--src-primary);
    font-weight: 800;
}
.src-accordion-btn.is-open::after {
    content: "−";
}
.src-accordion-panel {
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, opacity 0.3s ease;
    font-size: 12px;
    color: #475569;
}
.src-accordion-panel.open {
    max-height: 600px;
    opacity: 1;
    margin-top: 10px;
}
.src-breakdown-step {
    display: flex;
    justify-content: space-between;
    gap: 10px;
    padding: 6px 0;
    border-bottom: 1px dashed #e2e8f0;
}
.src-breakdown-step:last-child {
    border-bottom: none;
}
.src-breakdown-step strong {
    color: var(--src-dark);
}
.src-breakdown-summary {
    margin-top: 8px;
    padding-top: 8px;
    border-top: 1px solid var(--src-border-light);
    font-weight: 700;
}

.src-risk-box,
.src-compare-box,
.src-packages-box {
    background: #ffffff;
    border: 1px solid var(--src-border-light);
    border-radius: 0 0 12px 12px;
    padding: 14px;
}
.src-risk-item {
    font-size: 12px;
    color: #475569;
    padding: 8px 10px;
    border-radius: 10px;
    border: 1px solid #e2e8f0;
    background: #f8fafc;
    margin-bottom: 8px;
}
.src-risk-item.warning {
    border-color: rgba(234, 179, 8, 0.5);
    background: rgba(254, 243, 199, 0.6);
}
.src-risk-item.info {
    border-color: rgba(59, 130, 246, 0.3);
    background: rgba(219, 234, 254, 0.6);
}
.src-risk-item:last-child {
    margin-bottom: 0;
}

.src-compare-box {
    display: grid;
    gap: 12px;
}
.src-compare-tabs {
    display: none;
    gap: 8px;
}
.src-compare-tabs button {
    flex: 1 1 0;
}
.src-compare-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
}
.src-compare-card {
    border: 1px solid var(--src-border-light);
    border-radius: 12px;
    padding: 12px;
    background: #f8fafc;
    font-size: 12px;
}
.src-compare-card h4 {
    margin: 0 0 8px;
    font-size: 13px;
}
.src-compare-delta {
    font-weight: 700;
    color: var(--src-primary);
}

.src-packages-box {
    display: grid;
    gap: 12px;
}
.src-package-card {
    border: 1px solid var(--src-border-light);
    border-radius: 12px;
    padding: 12px;
    background: #f8fafc;
    display: grid;
    gap: 8px;
}
.src-package-card h4 {
    margin: 0;
    font-size: 14px;
}
.src-package-price {
    font-size: 18px;
    font-weight: 700;
    color: var(--src-primary);
}
.src-package-meta {
    font-size: 12px;
    color: #475569;
}
.src-package-actions {
    display: flex;
    gap: 8px;
}
.src-package-actions .src-mini-btn {
    flex: 1 1 auto;
}

.src-info-box { margin-top: 0; border-radius: 0 0 12px 12px; overflow: hidden; padding: 12px; background: #ffffff; }
.src-acc-item { border: 1px solid var(--src-border-light); border-radius: 8px; margin-bottom: 10px; background: #fff; overflow: hidden; }
.src-acc-item:last-child { margin-bottom: 0; }
.src-acc-head { padding: 12px 15px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-size: 13px; font-weight: 600; color: var(--src-dark); background: #fff; transition: background 0.2s; }
.src-acc-head:hover { background: #f1f5f9; }
.src-acc-head::after { content: '+'; font-weight: bold; font-size: 16px; color: var(--src-primary); }
.src-acc-item.open .src-acc-head::after { content: '−'; }
.src-acc-body { max-height: 0; opacity: 0; overflow: hidden; transition: max-height 0.3s ease, opacity 0.3s ease, padding 0.3s ease; font-size: 12px; line-height: 1.5; color: #475569; background: #f8fafc; padding: 0 15px; }
.src-acc-item.open .src-acc-body { max-height: 300px; opacity: 1; padding: 15px; border-top: 1px solid var(--src-border-light); }

.src-license-box { font-size: 13px; color: rgb(15, 23, 42); background: #ffffff; border: 1px solid rgba(203, 213, 225, 0.7); padding: 16px; border-radius: 0 0 12px 12px; margin-bottom: 0; line-height: 1.5; box-shadow: 0 1px 6px rgba(15, 23, 42, 0.06); transition: opacity 0.3s ease; }
.src-license-box strong,
.src-license-box a,
.src-license-box .dashicons,
.src-license-meta {
    color: rgb(15, 23, 42);
}
.src-license-box a { text-decoration: underline; }
.src-license-box.hidden { display: none; opacity: 0; }
.src-license-meta { display: inline-block; margin-top: 6px; font-size: 12px; font-weight: 600; }
.src-license-extras { display: inline-block; margin-top: 6px; font-size: 12px; color: #475569; }

.src-modal-overlay {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 99999;
    padding: 20px;
    background: rgba(15, 23, 42, 0.55);
    backdrop-filter: blur(6px);
}
.src-modal-overlay.is-open {
    display: flex;
}
.src-modal {
    background: #ffffff;
    border-radius: 20px;
    max-width: 760px;
    width: 92vw;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 24px 60px rgba(15, 23, 42, 0.25);
    padding: 26px;
}
.src-modal__head {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 20px;
    margin-bottom: 16px;
}
.src-modal__title {
    font-size: 20px;
    font-weight: 700;
    color: #0f172a;
}
.src-modal__subtitle {
    font-size: 13px;
    color: #64748b;
    margin-top: 4px;
}
.src-modal__close {
    background: transparent;
    border: none;
    font-size: 26px;
    cursor: pointer;
    line-height: 1;
    color: #94a3b8;
}
.src-modal__close:hover {
    color: #0f172a;
}
.src-modal__grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 14px;
}
.src-opt-tile {
    border: 2px solid rgba(226, 232, 240, 0.9);
    border-radius: 16px;
    padding: 14px 16px;
    background: #ffffff;
    display: flex;
    align-items: flex-start;
    gap: 12px;
    text-align: left;
    cursor: pointer;
    transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
}
.src-opt-tile__check {
    width: 22px;
    height: 22px;
    border-radius: 999px;
    border: 2px solid #cbd5e1;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex: 0 0 auto;
    background: #ffffff;
    position: relative;
}
.src-opt-tile__check::after {
    content: "";
    width: 10px;
    height: 10px;
    border-radius: 999px;
    background: transparent;
}
.src-opt-tile__text {
    display: grid;
    gap: 4px;
}
.src-opt-tile__title {
    font-size: 14px;
    font-weight: 600;
    color: #0f172a;
}
.src-opt-tile__sub {
    font-size: 12px;
    color: #64748b;
}
.src-opt-tile.is-on {
    border-color: rgba(26, 147, 238, 0.8);
    background: rgba(26, 147, 238, 0.06);
    box-shadow: 0 0 0 2px rgba(26, 147, 238, 0.08);
}
.src-opt-tile.is-on .src-opt-tile__check {
    border-color: var(--src-primary);
    background: rgba(26, 147, 238, 0.12);
}
.src-opt-tile.is-on .src-opt-tile__check::after {
    background: var(--src-primary);
}
.src-opt-tile--full {
    grid-column: 1 / -1;
}
.src-opt-tile--panel {
    background: #f8fafc;
    border-style: dashed;
    cursor: default;
}
.src-opt-tile--panel:hover {
    border-color: rgba(226, 232, 240, 0.9);
    box-shadow: none;
}
.src-opt-tile__panel {
    width: 100%;
    display: grid;
    gap: 12px;
}
.src-opt-panel-title {
    font-size: 13px;
    font-weight: 600;
    color: #0f172a;
}
.src-opt-panel-title--small {
    font-size: 12px;
    color: #475569;
}
.src-opt-panel-group {
    display: grid;
    gap: 10px;
}
.src-modal-grid {
    display: grid;
    gap: 10px;
}
.src-modal-scope {
    display: grid;
    gap: 6px;
}
#src-export-package-wrap {
    display: none;
}
.src-modal-package-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 8px;
}
.src-modal-package-card {
    border: 1px solid var(--src-border-light);
    border-radius: 12px;
    padding: 10px 12px;
    background: #ffffff;
    font-size: 13px;
    font-weight: 600;
    color: var(--src-dark);
    cursor: pointer;
    transition: border-color 0.2s, color 0.2s, box-shadow 0.2s;
}
.src-modal-package-card.is-selected {
    border-color: var(--src-primary);
    color: var(--src-primary);
    box-shadow: 0 0 0 2px rgba(26, 147, 238, 0.15);
}
.src-sr-only {
    position: absolute !important;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}
.src-check {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
}
.src-modal__footer {
    margin-top: 18px;
}
.src-btn--full {
    width: 100%;
}

.src-footer-actions { margin-top: auto; padding-top: 20px; }
.src-note-text { text-align: center; margin-top: 8px; font-size: 12px; color: rgba(15, 23, 42, 0.55); }

.src-mini-btn {
    background: #ffffff;
    border: 1px solid var(--src-border-light);
    border-radius: 999px;
    padding: 6px 12px;
    font-size: 12px;
    font-weight: 600;
    color: var(--src-dark);
    cursor: pointer;
    transition: border-color 0.2s, color 0.2s, background 0.2s;
}
.src-mini-btn:hover {
    border-color: var(--src-primary);
    color: var(--src-primary);
}
.src-mini-btn--wide {
    width: 100%;
}
.src-compare-controls {
    margin-top: 12px;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
}

.src-btn { background: var(--src-primary); color: #fff; border: none; padding: 16px; border-radius: 50px; width: 100%; font-weight: 700; font-size: 15px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; transition: background 0.2s; transform: none !important; }
.src-btn:hover { background: var(--src-primary-hover); transform: none !important; }
.src-btn--ghost {
    background: transparent;
    border: 1px solid var(--src-border-light);
    color: var(--src-dark);
}
.src-btn--primary {
    background: var(--src-primary);
    color: #ffffff;
}
.src-btn--primary:hover {
    background: var(--src-primary-hover);
}

.src-discount-grid { display: grid; grid-template-columns: 110px 1fr; gap: 10px; margin-top: 6px; }
.src-discount-percent { width: 100%; }
.src-discount-reason { width: 100%; }
.src-hint-text { font-size: 11px; color: #94a3b8; margin-top: 2px; display: block; font-style: italic; }

.src-rights-panel {
    background: #ffffff;
    border: 1px solid rgba(203, 213, 225, 0.7);
    border-radius: 14px;
    padding: 16px;
    box-shadow: 0 1px 6px rgba(15, 23, 42, 0.06);
}

.src-sidebar {
    width: 100%;
}
.src-sidebar-sticky {
    position: sticky;
    top: var(--src-sticky-offset, 90px);
    display: flex;
    flex-direction: column;
    gap: 0;
}

/* HIDE GLOBAL SETTINGS INITIALLY */
#src-global-settings { display: none; }
#src-global-settings.active { display: block; animation: fadeIn 0.5s; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

@media(max-width: 900px) { 
    #src-calc-v6 { grid-template-columns: 1fr; } 
    .src-col-left { border-right: none; border-bottom: 1px solid var(--src-border-light); padding: 20px; }
    .src-tiles-grid { grid-template-columns: repeat(2, 1fr); }
    .src-top-grid { grid-template-columns: 1fr; }
    .src-option-row,
    .src-opt-head {
        flex-wrap: wrap;
        align-items: flex-start;
        gap: 10px;
    }
    .src-option-left {
        flex: 1 1 calc(100% - 60px);
    }
    .src-option-right {
        margin-left: auto;
    }
    .src-opt-left {
        flex: 1 1 calc(100% - 60px);
    }
    .src-opt-right {
        margin-left: auto;
    }
    .src-option-inline {
        order: 3;
        width: 100%;
        max-width: 100%;
        max-height: 0;
        transform: translateY(6px);
        transition: max-height 220ms cubic-bezier(0.4, 0, 0.2, 1), opacity 180ms ease, transform 220ms cubic-bezier(0.4, 0, 0.2, 1);
    }
    .src-option-row.is-on .src-option-inline {
        max-height: 220px;
        transform: translateY(0);
    }
    .src-discount-grid {
        grid-template-columns: 1fr;
    }
    .src-compare-grid {
        grid-template-columns: 1fr;
    }
    .src-compare-tabs {
        display: flex;
    }
    .src-compare-grid[data-active="A"] .src-compare-card[data-compare="B"],
    .src-compare-grid[data-active="B"] .src-compare-card[data-compare="A"] {
        display: none;
    }
    .src-sidebar-sticky {
        position: static;
    }
    .src-modal__grid {
        grid-template-columns: 1fr;
    }
}

@media (prefers-reduced-motion: reduce) {
    .src-amount-anim__value,
    .src-option-inline,
    .src-slide-wrap,
    .src-opt-body,
    .src-acc-body,
    .src-toggle-slider,
    .src-collapse {
        transition-duration: 0.01ms !important;
        animation-duration: 0.01ms !important;
    }
}
