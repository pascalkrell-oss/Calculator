:root {
    --src-primary: #1a93ee; 
    --src-primary-hover: #137ecf;
    --src-dark: #333333;
    --src-text: #64748b;
    --src-bg: #f8fafc;
    --src-light-box: #f4f9ff;
    --src-border-light: #e2e8f0;
    --src-card-bg: #ffffff;
    --src-radius: 12px; 
    --src-input-radius: 8px; 
    --src-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
    --src-anim-speed: 0.3s;
}

.src-reset-header { max-width: 1100px; margin: 0 auto 10px; text-align: right; }
.src-reset-btn { background: transparent; border: none; color: #999; font-size: 12px; cursor: pointer; display: inline-flex; align-items: center; gap: 5px; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px; transition: color 0.2s; }
.src-reset-btn:hover { color: #d63638; }

#src-calc-v6 {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    max-width: 1100px; margin: 0 auto 40px;
    background: var(--src-card-bg); border-radius: var(--src-radius); 
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.05);
    border: 1px solid var(--src-border-light);
    display: grid; grid-template-columns: 1.3fr 0.9fr; overflow: hidden;
    align-items: stretch;
}

.src-col-left { padding: 50px 30px 30px 30px; border-right: 1px solid var(--src-border-light); }
.src-col-right { background: var(--src-bg); padding: 30px; display: flex; flex-direction: column; min-height: 100%; }

.src-section-title { font-size: 12px; font-weight: 800; color: rgb(51, 51, 51); text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 8px; display: flex; align-items: center; gap: 8px; }
.src-group { margin-bottom: 25px; }

.src-top-grid { display: grid; grid-template-columns: 55% 1fr; gap: 20px; margin-bottom: 35px; }
.src-top-sub { display: block; font-size: 11px; color: #94a3b8; margin-top: 6px; line-height: 1.3; }

/* INPUTS */
.src-select, .src-input-text, .src-textarea, .src-discount-row input {
    width: 100%; padding: 10px 15px;
    border: 2px solid var(--src-border-light); 
    border-radius: var(--src-input-radius);
    font-size: 15px; color: var(--src-dark); background: #fff; 
    appearance: none; -webkit-appearance: none;
    transition: border-color 0.2s;
    box-sizing: border-box; 
    line-height: 1.2;
}
.src-select {
    height: 48px; padding-right: 40px; cursor: pointer;
    background-image: url('data:image/svg+xml;utf8,<svg fill="%23333" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/></svg>');
    background-repeat: no-repeat; background-position: right 12px center;
}
.src-input-text { height: 48px; cursor: text; }
.src-select:focus, .src-input-text:focus, .src-textarea:focus { border-color: var(--src-primary); outline: none; }

.src-light-box-wrapper { background: var(--src-light-box); border: 1px solid var(--src-border-light); border-radius: 12px; padding: 20px; margin-bottom: 20px; }

.src-slide-wrap { max-height: 0; opacity: 0; overflow: hidden; transition: max-height var(--src-anim-speed) ease-in-out, opacity var(--src-anim-speed) ease-in-out, margin var(--src-anim-speed); }
.src-slide-wrap.open { max-height: 1500px; opacity: 1; }
.src-slide-wrap.open.with-margin { margin-top: 15px; }

.src-switch-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; cursor: pointer; user-select: none; }
.src-switch-row.boxed { padding: 10px 15px; background: #fff; border: 1px solid var(--src-border-light); border-radius: 10px; margin-bottom: 8px; transition: 0.2s; }
.src-switch-row.boxed:hover { border-color: #cbd5e1; }

/* --- GLOBAL TOGGLE ROWS (Spacing Fix) --- */
.src-global-toggle-row {
    margin-bottom: 20px;
    padding: 5px 0;
    border-bottom: 1px dashed #f1f5f9;
}
.src-global-toggle-row:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.src-switch-content { display: flex; align-items: center; gap: 12px; }
.src-switch-text { font-size: 14px; font-weight: 600; color: var(--src-dark); }
.src-switch-sub { font-size: 12px; color: #94a3b8; margin-left: 0; font-weight: 400; display: block; }
.src-switch-icon { color: #94a3b8; font-size: 18px; display:flex; align-items:center; justify-content: center; width:20px; }

.src-toggle-wrapper { position: relative; display: inline-block; width: 42px; height: 24px; flex-shrink: 0; }
.src-toggle-wrapper input { opacity: 0; width: 0; height: 0; margin: 0; }
.src-toggle-slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #cbd5e1; transition: .3s; border-radius: 34px; }
.src-toggle-slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .3s; border-radius: 50%; box-shadow: 0 2px 4px rgba(0,0,0,0.2); }
.src-toggle-wrapper input:checked + .src-toggle-slider { background-color: var(--src-primary); }
.src-toggle-wrapper input:checked + .src-toggle-slider:before { transform: translateX(18px); }

.src-tiles-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
.src-tile-input { display: none; }
.src-tile { border: 1px solid var(--src-border-light); border-radius: 10px; padding: 10px 5px; text-align: center; cursor: pointer; transition: all 0.2s ease; background: #fff; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; min-height: 75px; }
.src-tile:hover { border-color: #cbd5e1; transform: translateY(-2px); }
.src-tile-icon { font-size: 22px; color: #94a3b8; margin-bottom: 5px; display:block; }
.src-tile-label { font-size: 11px; font-weight: 600; color: var(--src-dark); line-height: 1.1; }
.src-tile-input:checked + .src-tile { border-color: var(--src-primary); background: #fff; box-shadow: 0 0 0 2px rgba(26,147,238,0.15); }
.src-tile-input:checked + .src-tile .src-tile-icon, .src-tile-input:checked + .src-tile .src-tile-label { color: var(--src-primary); }

/* --- SLIDER WITH VISIBLE TRACK --- */
.src-slider-container { padding: 5px 0; }
.src-slider { 
    -webkit-appearance: none; 
    width: 100%; 
    height: 6px; 
    border-radius: 5px; 
    outline: none; 
    margin: 20px 0;
    /* Track Hintergrund */
    background-color: #e2e8f0; 
    /* Punkte */
    background-image: 
        radial-gradient(circle at 33.33% 50%, #94a3b8 3px, transparent 3.5px),
        radial-gradient(circle at 66.66% 50%, #94a3b8 3px, transparent 3.5px);
    background-repeat: no-repeat;
    background-position: center;
    background-size: 100% 100%;
}
.src-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 22px; height: 22px; border-radius: 50%; background: var(--src-primary); cursor: pointer; border: 3px solid #fff; box-shadow: 0 2px 5px rgba(0,0,0,0.15); transition: transform 0.1s; margin-top: -8px; }
.src-slider::-webkit-slider-thumb:hover { transform: scale(1.1); }
.src-slider::-webkit-slider-runnable-track { background: transparent; height: 6px; border-radius: 5px; }

.src-slider-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: -10px; }
.src-slider-val { font-size: 14px; font-weight: 700; color: var(--src-primary); background: #fff; border:1px solid #eee; padding: 4px 10px; border-radius: 8px; min-width: 60px; text-align: center; }
.src-slider-steps { display:flex; justify-content:space-between; font-size:10px; color:#94a3b8; margin-top:5px; font-weight: 600; text-transform: uppercase; }

.src-textarea { height: 100px; resize: vertical; display: block; margin-bottom: 5px; font-family: monospace; font-size: 13px; }
.src-stats { font-size: 12px; font-weight: 600; color: var(--src-primary); display: flex; gap: 10px; align-items:center; }

/* FIXED TOOLTIP */
.src-tooltip-icon { display: inline-flex; justify-content: center; align-items: center; width: 16px; height: 16px; background: #e2e8f0; color: #64748b; border-radius: 50%; font-size: 10px; font-weight: bold; margin-left: 6px; cursor: help; position: relative; }
.src-tooltip-icon:hover { background: var(--src-primary); color: #fff; }

#src-tooltip-fixed {
    position: fixed; z-index: 99999; background: #333;
    box-shadow: 0 5px 20px rgba(0,0,0,0.2); border-radius: 6px; 
    padding: 10px 14px; color: #fff; 
    font-size: 12px; line-height: 1.4; max-width: 250px; 
    pointer-events: none; opacity: 0;
    transition: opacity 0.2s ease; visibility: hidden;
}
#src-tooltip-fixed.is-visible { opacity: 1; visibility: visible; }

.src-manual-label { font-size: 14px; font-weight: 600; color: #64748b; }

/* RESULT CARD (BLUE) */
.src-result-card { 
    background: #0f141a; 
    border-radius: 16px; padding: 25px; text-align: center; 
    box-shadow: none; 
    margin-bottom: 20px; position: relative; overflow: hidden; 
    color: #fff; 
}
.src-price-label { font-size: 12px; text-transform: uppercase; color: rgba(255,255,255,0.8); font-weight: 700; letter-spacing: 0.5px; }
.src-price-main-box { background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.2); border-radius: 12px; padding: 14px 10px; margin: 12px 0 8px; }
.src-price-main { font-size: 42px; font-weight: 800; color: #fff; line-height: 1.1; margin: 0; }
.src-price-sub { font-size: 13px; color: rgba(255,255,255,0.9); }
.src-price-note { font-size: 11px; color: rgba(255,255,255,0.7); margin-top: 6px; letter-spacing: 0.2px; text-transform: uppercase; }

/* USER FINAL FEE INPUT */
.src-final-fee-wrap { margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.2); text-align: left; }
.src-final-fee-label { font-size: 12px; font-weight: 700; color: rgba(255,255,255,0.9); margin-bottom: 5px; display: block; }
.src-final-fee-input { 
    width: 100%; height: 45px; border: 2px solid rgba(255,255,255,0.3); border-radius: var(--src-input-radius); 
    padding: 0 15px; font-size: 18px; font-weight: 700; color: var(--src-primary); background: #fff;
    text-align: center; transition: all 0.2s;
    box-sizing: border-box;
}
.src-final-fee-input::placeholder { color: #ccc; font-weight: 400; font-size: 14px; }
.src-final-fee-input:focus { border-color: #fff; outline:none; box-shadow: 0 0 0 3px rgba(255,255,255,0.2); }
.src-final-fee-input.error { border-color: #ffcccc; background: #fff0f0; color: #dc3232; }
.src-final-fee-msg { font-size: 12px; color: #ffcccc; margin-top: 5px; display: none; text-align: center; font-weight: 600; }

/* Hidden Logic */
.src-hidden-initially { display: none; }
.src-fade-in { animation: fadeInField 0.5s forwards; }
@keyframes fadeInField { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.src-breakdown-box { background: #fff; border: 1px solid var(--src-border-light); border-radius: 8px; padding: 15px; margin-bottom: 20px; font-size: 13px; color: #475569; }
.src-breakdown-title { font-weight: 700; color: var(--src-dark); margin-bottom: 10px; display:block; font-size: 13px;}
.src-breakdown-row { display: flex; justify-content: space-between; padding: 6px 0; border-bottom: 1px dashed #e2e8f0; align-items:center; }
.src-breakdown-row span:first-child { display:flex; align-items:center; gap:5px; } /* For icon align */
.src-breakdown-row:last-child { border-bottom: none; }
.src-breakdown-row strong { color: var(--src-dark); }

.src-info-box { margin-top: 20px; }
.src-acc-item { border: 1px solid var(--src-border-light); border-radius: 8px; margin-bottom: 8px; background: #fff; overflow: hidden; }
.src-acc-head { padding: 12px 15px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; font-size: 13px; font-weight: 600; color: var(--src-dark); background: #fff; transition: background 0.2s; }
.src-acc-head:hover { background: #f1f5f9; }
.src-acc-head::after { content: '+'; font-weight: bold; font-size: 16px; color: var(--src-primary); }
.src-acc-item.open .src-acc-head::after { content: 'âˆ’'; }
.src-acc-body { max-height: 0; opacity: 0; overflow: hidden; transition: max-height 0.3s ease, opacity 0.3s ease, padding 0.3s ease; font-size: 12px; line-height: 1.5; color: #475569; background: #f8fafc; padding: 0 15px; }
.src-acc-item.open .src-acc-body { max-height: 300px; opacity: 1; padding: 15px; border-top: 1px solid var(--src-border-light); }

.src-license-box { font-size: 13px; color: #1a5c99; background: linear-gradient(135deg, #eef7ff 0%, #f6faff 100%); border: 1px solid #dceeff; padding: 15px; border-radius: 12px; margin-bottom: 20px; line-height: 1.5; transition: opacity 0.3s ease; }
.src-license-box.hidden { display: none; opacity: 0; }

.src-footer-actions { margin-top: auto; padding-top: 20px; }

.src-btn { background: var(--src-primary); color: #fff; border: none; padding: 16px; border-radius: 50px; width: 100%; font-weight: 700; font-size: 15px; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 8px; transition: background 0.2s; transform: none !important; }
.src-btn:hover { background: var(--src-primary-hover); transform: none !important; }

.src-discount-row { display: flex; gap: 10px; margin-top: 10px; }
.src-discount-row input { flex: 1; height: 40px; padding: 0 10px; border: 1px solid var(--src-border-light); border-radius: var(--src-input-radius); font-size: 13px; }
.src-hint-text { font-size: 11px; color: #94a3b8; margin-top: 4px; display: block; font-style: italic; }

/* HIDE GLOBAL SETTINGS INITIALLY */
#src-global-settings { display: none; }
#src-global-settings.active { display: block; animation: fadeIn 0.5s; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

@media(max-width: 900px) { 
    #src-calc-v6 { grid-template-columns: 1fr; } 
    .src-col-left { border-right: none; border-bottom: 1px solid var(--src-border-light); padding: 20px; }
    .src-tiles-grid { grid-template-columns: repeat(2, 1fr); }
    .src-top-grid { grid-template-columns: 1fr; }
}
